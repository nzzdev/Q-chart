<template>
  <require from="./ChartDataValueConverter.js"></require>
  <main class="storytelling-toolbox-chart-container">
    <div>Tool Version: ${env.TOOL_VERSION}</div>
    <div>
      <textarea autosize="true" value.bind="item.conf.data | chartDataConverter" style="width: calc(100% - 10px);" resizable></textarea>
    </div>
    <div>
      <h1 textcontent.bind="item.conf.title" contenteditable="true"></h1>
      <p textcontent.bind="item.conf.description" contenteditable="true"></p>
      <div ref="chartElement"></div>
      <div style="text-align: right;" textcontent.bind="item.conf.data.x.label" contenteditable="true" keyup.delegate="updateData()"></div>
      <!-- <input type="text" value.bind="item.conf.data.x.label"></input> -->
      
      <!-- <a href.bind="downloadHref" download="chart.svg" class="button small">Download SVG</a> -->
    </div>
    <div>
      <radiogroup>
        <div repeat.for="type of chartTypes">
          <input type="radio" id="button-${type}" value.bind="type" checked.bind="$parent.item.conf.chartType">
          <label for="button-${type}">${type}</label>
        </div>
      </radiogroup>
    </div>
    <sources-form sources.two-way="item.conf.sources"></sources-form>
    
  </main>
  <tool-bar actions.bind="actions"></tool-bar>
</template>
